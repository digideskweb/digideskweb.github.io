{"response": [{"author_name": "Kevin Montrose", "gravatar_hash": "0c0f8a17fe71547f718e013591008017", "author_url": "http://stackoverflow.com/users/80572/kevin-montrose", "date": "Dec 27, 2009", "message": "Yeesh, Jeff isn't kidding about needing to **really** know regex to contribute; this thing is practically one giant .cs file of regular expressions.\n\nTerrifying."}, {"author_name": "brad", "gravatar_hash": "40ef69bda4835622f04517ecb9b9d14d", "author_url": null, "date": "Dec 27, 2009", "message": "1400 lines of nasty, open-source quality pile of \"code\".  Thanks.\n\n[lol to captcha: 'summer Clinton'...]"}, {"author_name": "Braden", "gravatar_hash": "95a54632f5fb11795c3f384d7acea62b", "author_url": "http://bluej100.blogspot.com", "date": "Dec 27, 2009", "message": "Why don't you just use an Ajax call for the preview, Jeff? If you wait until typing has paused for 500 ms, it can be useful without an undue demand on the server."}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Dec 27, 2009", "message": "> Why don\u2019t you just use an Ajax call for the preview, Jeff?\n\nWe tried that on http://careers.stackoverflow.com in the CV entry fields which support Markdown, and people hated it. I can't blame them. The 200+ms latency (and that's the <i>best</i> case) to get the preview to update is kind of a bummer. \n\nBut I agree in principle that keeping two sets of code in sync, in two different languages, on two totally different platforms, is a huuuuge PITA.\n\nWe've tried to move almost all validation to the server for this reason; keeping client-side validation in sync with the server was and is such a hassle. So, now our principle is to prevent only the most egregious data entry errors on the client (such as \"nothing entered\", etc); anything complex or subtle should be validated on the server, so the bulk and core of the code is in one central place."}, {"author_name": "l", "gravatar_hash": "7f1a10d5f35ccabfac6f93674cbede18", "author_url": null, "date": "Dec 27, 2009", "message": "Why not just have 1 JS version and call into it from C#?"}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Dec 27, 2009", "message": "l, how would that even be possible?"}, {"author_name": "John Sheehan", "gravatar_hash": "54b75f6fbf4434162bfcda6b0cb9b86b", "author_url": "https://twitter.com/johnsheehan", "date": "Dec 27, 2009", "message": "Probably doing something really, *REALLY* ugly like this: http://odetocode.com/code/80.aspx"}, {"author_name": "Braden", "gravatar_hash": "95a54632f5fb11795c3f384d7acea62b", "author_url": "http://bluej100.blogspot.com", "date": "Dec 28, 2009", "message": "You could probably get it working with <a href=\"http://en.wikipedia.org/wiki/Rhino_%28JavaScript_engine%29\" rel=\"nofollow\">Rhino</a> (see also <a href=\"http://en.wikipedia.org/wiki/Server-side_JavaScript\" rel=\"nofollow\">Server-side JavaScript</a>). Dunno if performance would be acceptable, but it does support compilation, at least.\n\nAnother possibility is a hybridized approach: use an austere Javascript implementation plus periodic Ajax requests, with the realtime preview disabled once the server disagrees."}, {"author_name": "Doekman", "gravatar_hash": "b83de2466ffbd28e6493ee2fcd796978", "author_url": null, "date": "Dec 28, 2009", "message": "You can package the javascript as a Scripting Component, so you can register it as an ActiveX component. Via COM Interop, you can call it from .NET. This works for both Javascript and VBScript.\n\nMore info for example at: http://msdn.microsoft.com/en-us/library/aa163626(office.10).aspx\n\nWith a wizard, you can create the XML file:\nhttp://www.microsoft.com/downloads/details.aspx?FamilyId=408024ED-FAAD-4835-8E68-773CCC951A6B&amp;displaylang=en\n\nDetails about it:\nhttp://msdn.microsoft.com/en-us/library/w03ka26w(VS.85).aspx"}, {"author_name": "Gordon Guthrie", "gravatar_hash": "df140e5ac5c948da6c88911886857b49", "author_url": "http://github.com/gordonguthrie/erlmarkdown", "date": "Dec 28, 2009", "message": "I have written a server-side implementation of markdown in Erlang and we are targeting the stackoverflow client-side implementation (http://github.com/derobins/wmd) for compatibility.\n\nWe have a test generator in javascript that  allows you to put in some markdown and get an EUnit test that compares the javascript output to the Erlang one.\n\nWe also have a fuzz tester that sticks enormous quantities of random characters through the beast to test if we can crash it.\n\nIt would be good to co-ordinate/integrate the test suites."}, {"author_name": "Ryan Fox", "gravatar_hash": "fcc79759f6398caee5df36cde61b36b7", "author_url": null, "date": "Dec 28, 2009", "message": "Jeff, I thought you had already learned this lesson: Don't parse with regular expressions!\n\nI'm positive that there are parser generators available for C#. Why are you making your life so much more difficult?"}, {"author_name": "Timo Stamm", "gravatar_hash": "bc4a7e6aecc204008282ea6d4fefdaf0", "author_url": "http://timostamm.de", "date": "Dec 28, 2009", "message": "Ryan, please go on and write a perfect parser for markdown.\n\nIf you're done, let's have a talk about making things complicated."}, {"author_name": "Steven", "gravatar_hash": "585dee8f1d99f06db4aa7549c72f4890", "author_url": null, "date": "Dec 28, 2009", "message": "You expect people to contribute but still use SVN?  At least upgrade to something distributed Git, Hg, Bzr.  I thought everyone was technically minded at Stack Over Flow/FogBugz?"}, {"author_name": "theman", "gravatar_hash": "c8fffecfa830a44700443f3c0c6b24b6", "author_url": null, "date": "Dec 28, 2009", "message": "I dont get what \"Markdowns Harp\" is?"}, {"author_name": "Chris", "gravatar_hash": "97e4482e00edf8b4a8bc4feb75ef0e7e", "author_url": null, "date": "Dec 28, 2009", "message": "An alternative to two language versions is to use ANTLR as the parser/lexer, then write two templates to output C# and JS code.\n\nThat's a serious investement of time of course, but an option."}, {"author_name": "Milan Negovan", "gravatar_hash": "26aeb28f0737accd152e549c6c7bd295", "author_url": "http://aspnetresources.com", "date": "Dec 28, 2009", "message": "NB: the code was written in 2004 (the era of DataSets and such) and based off a Perl library. Granted, it's due to some serious refactoring, as any code would after 5 years of no maintenance.\n\nAs to regex parsing, that's something we can debate till cows come home. Again, this a *port* of heavily regex-ified Perl code."}, {"author_name": "Chris", "gravatar_hash": "97e4482e00edf8b4a8bc4feb75ef0e7e", "author_url": null, "date": "Dec 28, 2009", "message": "Milan: Oh, that's fun in and of itself. Ever seen the Perl RegEx for full email address verification? *Boggle*."}, {"author_name": "Jeff Davis", "gravatar_hash": "6d81d6dc131240aff73b92c2777f1737", "author_url": null, "date": "Dec 28, 2009", "message": "We had trouble with Tidy wrapping many single spaces in paragraph tags similar to what markdown was doing with &lt;hr&gt;s.\n\nThanks for releasing this. I believe it will be a helpful reference for some of those outlandish regexes we need as well as a useful project."}, {"author_name": "Jesse Andrews", "gravatar_hash": "50d10a8864accf0b2522c326381a4702", "author_url": "http://overstimulate.com", "date": "Dec 28, 2009", "message": "l, great idea to run the same code on the serverside.  I'm prototyping doing that as a HTTP based service that my web app (rails based) makes calls out to.\n\nI'm using node.js to run it on the serverside.  More info at http://userscripts.org/topics/42377"}, {"author_name": "Matt Youngblut", "gravatar_hash": "f4323dd728f37fa3e50ba5998affba45", "author_url": null, "date": "Dec 28, 2009", "message": "Great.  Now every podcast when Joel and Jeff say that everybody should contribute to open source, they can promote their own project.  I'm going to add this to my version of the drinking game."}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Dec 28, 2009", "message": ">  this thing is practically one giant .cs file of regular expressions. Terrifying.\n\nSo you haven't read any Perl before? Hee.\n\nhttp://code.google.com/p/markdownsharp/source/browse/trunk/MarkdownSharpTests/perl-original-source/Markdown.101.pl"}, {"author_name": "dlamblin", "gravatar_hash": "60fec2454b16f5fd5ec243fa98d71351", "author_url": null, "date": "Dec 28, 2009", "message": "&gt;l, how would that even be possible?\n\nhttp://stackoverflow.com/questions/1072727/are-there-any-net-clr-dlr-implementations-of-ecmascript\n\nPS, it's only a couple more letters to mention that it's the MIT License."}, {"author_name": "Kevin Montrose", "gravatar_hash": "0c0f8a17fe71547f718e013591008017", "author_url": "http://stackoverflow.com/users/80572/kevin-montrose", "date": "Dec 28, 2009", "message": "&gt;So you haven\u2019t read any Perl before? Hee.\n\nThere should be a warning attached to that link.  Contents harmful, NSFW, something."}, {"author_name": "Jakub Nar\u0119bski", "gravatar_hash": "672aa8b373071ef9f06db563d1c08d77", "author_url": null, "date": "Dec 29, 2009", "message": "Modern Perl has <a href=\"http://p3rl.org/Regexp::Grammars\" rel=\"nofollow\">Regexp::Grammars</a>."}, {"author_name": "sgm", "gravatar_hash": "a79f93da958eea07e5e68f84b21df9da", "author_url": null, "date": "Dec 29, 2009", "message": "\"MarkdownSharp\" is an uncreative name, and somewhat awkward to say. Suggest \"MarkNatural\" or \"MarkFlat\" or the transpositions \"Naturalmark\"/\"Flatmark\"."}, {"author_name": "Heff", "gravatar_hash": "105c20b5b84b4a680ffe7d1da87fe593", "author_url": "http://heff.de.heff.heff", "date": "Dec 29, 2009", "message": "Why would anyone want to use this? \n\nUnderstanding markdown is a critical part of any large website that uses it, so why would they entrust other people to get the job right.\n\nExperienced software developers write whatever software they deem necessary to perform those functions extraordinarily well. They don't need no stinking libraries.\n\nAt the end of the day- what I cannot re-invent, I do not understand."}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Dec 29, 2009", "message": "> \u201cMarkdownSharp\u201d is an uncreative name\n\nI agree it's not a fancy name, but findability, in this case, is more important than creativity.\n\n> Experienced software developers write whatever software they deem necessary to perform those functions extraordinarily well. They don\u2019t need no stinking libraries.\n\nYou can certainly do that, by contributing fixes or tests to MarkdownSharp.."}, {"author_name": "Gordon Guthrie", "gravatar_hash": "df140e5ac5c948da6c88911886857b49", "author_url": "http://github.com/gordonguthrie/erlmarkdown", "date": "Dec 29, 2009", "message": "@Timo Stamm\n\nI hand-wrote a lexer/parser for markdown - it is possible.\n\nhttp://github.com/gordonguthrie/erlmarkdown\n\nGordon"}, {"author_name": "Chris", "gravatar_hash": "f8869c89889c2ceff0fc7d7a253d9f8b", "author_url": "http://www.shrinkrays.net", "date": "Dec 29, 2009", "message": "Jeff - had you tried this one? \n\nhttp://code.google.com/p/n2markdowneditors/source/browse/trunk/MarkdownParser.cs \n\nI use that in the WMD editor addon (the project linked) I did for N2. 'It does the job' but isn't easy to extend especially your own tags, so I'll probably move it over to MarkdownSharp when I get the chance"}, {"author_name": "Shaun Finglas", "gravatar_hash": "5fa64738b2b35539637c51e7a098587b", "author_url": null, "date": "Dec 29, 2009", "message": "Nice to see the source code but one question.\n\nIt says the code was refactored, yet I see just one main cs file that is over 1400 lines long. Granted its full of comments, would it not make sense to split some of this code out a bit more to separate classes/files?\n\nI've only skimmed it, but it seems far too big for my liking."}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Dec 29, 2009", "message": "> had you tried this one? \n\nThat one is Milan's original port, too, so it will have all the bugs we had.. I'd *definitely* switch over to MarkdownSharp for bugfixes and perf improvement"}, {"author_name": "Trent Mick", "gravatar_hash": "26156e2b45d0a7aa9b98b78019997f5b", "author_url": "http://trentmick.blogspot.com/", "date": "Dec 29, 2009", "message": "More (hand crafted) test cases here if you are interested: http://code.google.com/p/python-markdown2/source/browse/#svn/trunk/test/tm-cases"}, {"author_name": "marc hoffman", "gravatar_hash": "47dd6e088b6ba4fb06a7030dda8b7122", "author_url": "https://twitter.com/dwarfland", "date": "Dec 30, 2009", "message": "Jeff,\n\nyou could also consider running the javaScropt version as native .NET, using this open source JavaScript implementation for .NET: http://code.remobjects.com/p/roscript/\n\n(disclaimer: i work for RemObjects)"}, {"author_name": "Gavin", "gravatar_hash": "f1805c40fe6607d0f2f165ee8c7e1606", "author_url": null, "date": "Dec 30, 2009", "message": "There's a few obvious, but probably minor performance, related to the use of Dictionary.\n\nUsing Dictionary.TryGetValue instead of ContainsKey/Item[].\n\nUsing foreach (KeyValuePair e in dict) instead of dict.Keys and a lookup. See EncodeBackslashEscapes/UnescapeSpecialChars etc."}, {"author_name": "l", "gravatar_hash": "7f1a10d5f35ccabfac6f93674cbede18", "author_url": null, "date": "Dec 30, 2009", "message": "Windows supports JScript in various places (e.g., WSH, jscript.dll, I'm sure something for the CLR). I'm not a Windows/C# programmer, but learning how to make a foreign call seems like a solved problem that's a candidate for stackoverflow ;-)"}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Dec 31, 2009", "message": "Gavin -- good suggestions! Though I wish you'd use the issue tab in the Google Code project..\n\nhttp://code.google.com/p/markdownsharp/issues/list\n\nThe foreach KeyValuePair is a good tip, and makes for cleaner code.. I'll be checking that in, in a bit.\n\nHowever, I am finding that Dictionary.ContainsKey/Item[] is exactly the same speed as doing Dictionary.TryGetValue() in our benchmark suite.  Try it yourself...\n\nNot a big fan of the additional out string declaration required with TryGetValue, but I guess it is <i>marginally</i> cleaner code... kind of debatable, though."}, {"author_name": "Jonas Folles\u00f8", "gravatar_hash": "f4f0c1d237a24c6395b23680acbca1ee", "author_url": "http://jonas.follesoe.no", "date": "Jan 04, 2010", "message": "This server side implementation could probably be turned into a Silverlight client side implementation quite easily. \n\nYou could host the code as an invisible Silverlight element and interact with it using the SilverlightJavaScript bridge. \n\nThe benefits would be one code base for generating HTML. The drawback would obviously be a Silverlight dependency (which probably won't make it all that useful for you guys). Second benefit would be .NET performance for HTML generation on client (not sure if you got perf. issues with the JS implementation of markdown).\n\nAnyway, great job on open sourcing the generation."}, {"author_name": "David Speyer", "gravatar_hash": "104cdb2b401e6ff40d80b9f51a043130", "author_url": null, "date": "Jan 04, 2010", "message": "I assume you have already seen the work Anton Geraschenko has been doing?\n\nAttempt to write a js clone of the current SE server-side implementation of Markdown:\nhttp://meta.stackexchange.com/questions/1106/markdown-preview-doesnt-agree-with-final-output/2609#2609\n\nMarkdown torture test: http://faketestsite.stackexchange.com/questions/4/markdown-torture-test"}, {"author_name": "Jeff Atwood", "gravatar_hash": "51d623f33f8b83095db84ff35e15dbe8", "author_url": "http://www.codinghorror.com/blog/", "date": "Jan 04, 2010", "message": "Yep, we have been in contact with Anton.. this is partially a result of that contact."}, {"author_name": "William Shields", "gravatar_hash": "2f364c2e36b52bc80296cbf23da8b231", "author_url": "http://www.cforcoding.com", "date": "Jan 04, 2010", "message": "If anyone is interested in having this functionality on Java, I've created a Java version called JMD (Java Markdown). See:\n\nhttp://www.cforcoding.com/2010/01/announcing-jmd-java-markdown-port-of.html"}, {"author_name": "vince", "gravatar_hash": "73d1af47f07df842071e2518501af588", "author_url": null, "date": "Jan 17, 2010", "message": "Hey Jeff,\n\nDo you usually code this nice or did you want it to look good because you knew lots of coders were going to look at it ? :-)"}]}